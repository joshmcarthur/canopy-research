{% extends "canopyresearch/base.html" %}

{% block title %}Documents - {{ workspace.name }} - Canopy Research{% endblock %}

{% block content %}
<h2>Documents for {{ workspace.name }}</h2>

<div style="margin-top: 20px;">
    {% for document in documents %}
    <sl-card style="margin-bottom: 10px;">
        <div slot="header">
            <strong><a href="{{ document.url }}" target="_blank" rel="noopener noreferrer">{{ document.title }}</a></strong>
        </div>
        <p>
            <sl-badge variant="neutral">{{ document.source.name }}</sl-badge>
            <small>{{ document.published_at|date:"Y-m-d H:i" }}</small>
        </p>
        {% if document.content %}
            <p style="max-height: 100px; overflow: hidden;">{{ document.content|truncatewords:50 }}</p>
        {% endif %}
    </sl-card>
    {% empty %}
    <sl-card>
        <p>No documents yet. Documents will appear here after sources are fetched.</p>
    </sl-card>
    {% endfor %}
</div>
{% endblock %}
